(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{187:function(t,e,n){"use strict";n(64),n(65),n(16),n(12),n(189),n(62),n(186),n(43),n(63),n(42);var l={name:"Checkbox",props:["checked","label"],data:function(){return{isChecked:!1}},methods:{toggle:function(){this.isChecked=!this.isChecked,this.$emit("toggle"),console.log(this.isChecked),this.isChecked?this.$emit("checked"):this.$emit("unchecked")}},watch:{checked:function(t){this.isChecked=t}},created:function(){this.isChecked=this.checked}},r=n(3),c=Object(r.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"flex focus:outline-none",on:{click:t.toggle}},[t.isChecked?n("span",{staticClass:"mdi mdi-checkbox-marked"}):t._e(),t._v(" "),t.isChecked?t._e():n("span",{staticClass:"mdi mdi-checkbox-blank-outline"}),t._v(" "),t.label?n("span",{staticClass:"ml-2"},[t._v(t._s(t.label))]):t._e()])}),[],!1,null,"f53ab914",null).exports,o={components:{Checkbox:c},props:["orders","data","checkable","checked"],data:function(){return{selected:!1}},watch:{checked:function(t){this.selected=t}},mounted:function(){this.selected=this.checked}},d={components:{Checkbox:c,InvoiceTableData:Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",{staticClass:" hover:bg-gray-100 border-t cursor-pointer",class:{"bg-gray-100":t.selected}},[t.checkable?n("td",[n("Checkbox",{attrs:{checked:t.selected},on:{checked:function(e){t.selected=!0},unchecked:function(e){t.selected=!1}}})],1):t._e(),t._v(" "),t._l(t.orders,(function(e,l){return n("td",{key:l,staticClass:"text-xs py-2 text-center py-4",on:{click:function(e){return t.$emit("click")}}},[t._v("\n    "+t._s(t.data[e])+"\n  ")])}))],2)}),[],!1,null,null,null).exports},props:{column:Object,data:{type:Array,default:[]},checkable:Boolean,data_url:String,data_id:String,no_add:Boolean,no_delete:Boolean,no_check:Boolean},data:function(){return{searchInput:"",hiddenField:[],filterMenuShown:!1,downSorted:[],upSorted:[],checkAll:!1}},computed:{orders:function(){var t=this;return this.column.map((function(t){return t.json||t.name})).filter((function(e){return!t.hiddenField.includes(e)}))},names:function(){var t=this;return this.column.map((function(t){return t.name})).filter((function(e){return!t.hiddenField.includes(e)}))},searchData:function(){var t=this;return this.searchInput?this.data.filter((function(e){return Array.from(Object.values(e)).filter((function(e){return null==e?void 0:e.toString().toLowerCase().includes(t.searchInput.toLowerCase())})).length})):this.data}},methods:{sortBy:function(t){return this.downSorted.includes(t)?(this.downSorted=this.downSorted.filter((function(e){return e!==t})),this.upSorted.push(t),this.data.sort((function(a,b){return a[t]>b[t]?1:-1}))):(this.upSorted=this.upSorted.filter((function(e){return e!==t})),this.downSorted.push(t),this.data.sort((function(a,b){return a[t]<b[t]?1:-1})))},navigate:function(t){console.log("Goto"),this.$router.push({path:this.data_url+t[this.data_id]})}}},h=Object(r.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"w-full "},[t._m(0),t._v(" "),n("div",{staticClass:"w-full bg-white px-8  mt-4 flex justify-end border-b"},[n("div",{staticClass:"flex flex-grow items-center text-gray-500"},[n("p",{staticClass:"text-gray-700 font-medium "},[t._v("INFO :")]),t._v(" "),n("p",{staticClass:"ml-1"},[n("span",{staticClass:"text-green-500"},[t._v(t._s(t.searchData.length))]),t._v(" items\n          shown out of "+t._s(t.data.length)+"\n        ")]),t._v(" "),n("div",{staticClass:" bg-white mx-auto flex rounded-full overflow-hidden p-1 px-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInput,expression:"searchInput"}],staticClass:"flex-grow outline-none border px-4",attrs:{type:"text",placeholder:"Fast search here"},domProps:{value:t.searchInput},on:{input:function(e){e.target.composing||(t.searchInput=e.target.value)}}}),t._v(" "),n("button",{staticClass:"mdi mdi-magnify text-green-500 outline-none bg-gray-200 px-4",on:{click:function(e){return t.$emit("search-click")}}})])]),t._v(" "),n("div",{staticClass:"flex text-sm text-gray-600"},[t.no_add?t._e():n("button",{staticClass:"border-r p-1 py-2 rounded",on:{click:function(e){return t.$emit("add-click")}}},[n("span",{staticClass:"mdi mdi-plus text-green-500"}),t._v(" Add New\n        ")]),t._v(" "),t.no_add||t.no_delete?t._e():n("button",{staticClass:"border-r p-1 py-2 rounded"},[n("span",{staticClass:"mdi mdi-delete text-red-500"}),t._v(" Delete Selected\n        ")]),t._v(" "),t.checkable?n("button",{staticClass:"border-r p-1 py-2 rounded",on:{click:function(e){t.checkAll=!0}}},[t._v("\n          Check All\n        ")]):t._e(),t._v(" "),n("div",{staticClass:"relative flex items-center ml-4"},[n("button",{staticClass:"mdi mdi-dots-vertical text-xl",on:{click:function(e){t.filterMenuShown=!0}}}),t._v(" "),t.filterMenuShown?n("div",{staticClass:"fixed inset-0 bg-black opacity-25 z-30",on:{click:function(e){t.filterMenuShown=!1}}}):t._e(),t._v(" "),t.filterMenuShown?n("div",{staticClass:"bg-white absolute top-0 mt-8 right-0 py-2 -mr-4 shadow-lg rounded-lg z-40"},t._l(t.column,(function(e,l){return n("Checkbox",{key:l,attrs:{label:e.name,checked:!t.hiddenField.includes(e.name)},on:{unchecked:function(n){return t.hiddenField.push(e.name)},checked:function(n){t.hiddenField=t.hiddenField.filter((function(t){return t!==e.name}))}}})})),1):t._e()])])]),t._v(" "),n("div",{staticClass:"w-full bg-white flex flex-col"},[n("table",{staticClass:"w-full  table-fixed text-gray-700 table-auto "},[n("tr",[t.checkable?n("th",{staticClass:"w-8"}):t._e(),t._v(" "),t._l(t.names,(function(e,l){return n("th",{key:l},[n("button",{staticClass:"whitespace-no-wrap font-medium capitalize text-sm truncate",on:{click:function(n){return t.sortBy(e)}}},[t._v("\n              "+t._s(e)+"\n              "),t.upSorted.includes(e)?n("span",{staticClass:"mdi mdi-sort-ascending text-blue-500"}):t._e(),t.downSorted.includes(e)?n("span",{staticClass:"mdi mdi-sort-descending text-purple-500"}):t._e()])])}))],2),t._v(" "),t._l(t.searchData,(function(e,l){return n("InvoiceTableData",{key:l,attrs:{checkable:t.checkable,checked:t.checkAll,orders:t.orders,data:e},on:{click:function(n){return t.navigate(e)}}})}))],2),t._v(" "),t.searchData.length?t._e():n("div",{staticClass:"flex p-8 text-3xl uppercase text-gray-600 justify-center w-full"},[t._v("\n        No Data Available\n      ")])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"w-3/4 hidden bg-white mx-auto flex rounded-full overflow-hidden p-4 px-8 text-3xl"},[e("input",{staticClass:"flex-grow outline-none",attrs:{type:"text",placeholder:"Fast search here"}}),this._v(" "),e("button",{staticClass:"mdi mdi-magnify text-green-500 outline-none"})])}],!1,null,null,null);e.a=h.exports},188:function(t,e,n){"use strict";n(117),n(42),n(116);var l={name:"CustomSelect",props:["value","label","placeholder","data"],data:function(){return{displayData:!1,text:""}},computed:{searchData:function(){return this.data}},mounted:function(){var t,e=this;this.text=null===(t=this.data.find((function(t){return t.value===e.value})))||void 0===t?void 0:t.label},methods:{toggleData:function(){this.displayData=!this.displayData},select:function(t){var label=t.label,e=t.value;this.text=label,this.displayData=!1,this.$emit("input",e)}}},r=n(3),component=Object(r.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"relative z-20 "},[n("div",{staticClass:"flex items-center"},[t.label?n("label",{staticClass:"w-2/12 uppercase"},[t._v(t._s(t.label))]):t._e(),t._v(" "),n("div",{staticClass:"flex flex-grow border rounded items-center overflow-hidden ml-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:" focus:outline-none p-2 flex-grow ",attrs:{readonly:"",type:"text",placeholder:t.placeholder||t.label},domProps:{value:t.text},on:{input:[function(e){e.target.composing||(t.text=e.target.value)},function(e){t.displayData=!0}],click:t.toggleData}}),t._v(" "),n("button",{staticClass:"mdi mdi-menu-down focus:outline-none p-2",on:{click:t.toggleData}})])]),t._v(" "),t.displayData?n("div",{staticClass:"absolute bg-white shadow-lg rounded-lg w-full  right-0 flex flex-col"},t._l(t.searchData,(function(e){return n("button",{key:e.value,staticClass:"py-2 hover:bg-blue-300 focus:bg-blue-300 focus:outline-none",on:{click:function(n){return t.select(e)}}},[t._v("\n        "+t._s(e.label)+"\n      ")])})),0):t._e()]),t._v(" "),t.displayData?n("div",{staticClass:"top-0 left-0 bottom-0 right-0 z-10 ",staticStyle:{position:"fixed"},on:{click:function(e){t.displayData=!1}}}):t._e()])}),[],!1,null,"4e785a06",null);e.a=component.exports},317:function(t,e,n){"use strict";n(320);var l=n(321),r=n.n(l),c=n(61),o={name:"DateRangeStats",components:{CustomSelect:n(188).a},props:{type:{type:String,default:"bar"},label:{type:Array,required:!0},datasets:{type:Array,required:!0},date_key:{type:String,required:!0,default:"created_at"},start_date:String,end_date:String,bar_color:{type:String,default:"#3bc1af"},chart_unit:{type:String,default:"day"},legend:{type:String,default:""}},data:function(){return{start:"",end:"",unit:""}},computed:{date_data:function(){var i,t=this,e={},n=[];for(i in this.datasets.forEach((function(data){var n=new Date(data[t.date_key]),l=[n.getFullYear()];"month"!==t.unit&&"day"!==t.unit||l.push(n.getMonth()+1),"day"===t.unit&&l.push(n.getDate()),l=l.join("-"),Object(c.inDateRange)(l,t.start,t.end,t.unit)&&(e[l]=e[l]||0,e[l]++)})),e)e.hasOwnProperty(i)&&n.push({t:i,y:e[i]});return n}},watch:{date_data:function(){this.createChart("planet-chart")}},mounted:function(){this.createChart("planet-chart")},created:function(){var t=this.end_date||new Date,e=this.start_date||new Date((new Date).setFullYear(t.getFullYear()-2));this.end=[t.getFullYear(),Object(c.leadingZero)(t.getMonth()+1),Object(c.leadingZero)(t.getDate())].join("-"),this.start=[e.getFullYear(),Object(c.leadingZero)(e.getMonth()+1),Object(c.leadingZero)(e.getDate())].join("-"),this.unit=this.chart_unit},methods:{createChart:function(t){var e=document.getElementById(t);e.innerHTML="";var canvas=document.createElement("canvas");e.appendChild(canvas);new r.a(canvas,{type:this.type,data:{labels:[new Date(this.start).toLocaleString(),new Date(this.end).toLocaleString()],datasets:[{label:this.legend,data:this.date_data,backgroundColor:Array(this.date_data.length).fill(this.bar_color),borderWidth:1}]},options:{title:{display:!1,text:"Batches statistics"},scales:{xAxes:[{type:"time",distribution:"series",time:{unit:this.unit,tooltipFormat:"MMM D YYYY"},bounds:"data"}],yAxes:[{ticks:{beginAtZero:!0,precision:0,padding:25}}]}}})}}},d=n(3),component=Object(d.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"flex justify-between p-2"},[n("div",[n("label",{attrs:{for:"start_date"}},[t._v("Start Date")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.start,expression:"start"}],staticClass:"ml-4 p-2",attrs:{type:"date"},domProps:{value:t.start},on:{input:function(e){e.target.composing||(t.start=e.target.value)}}})]),t._v(" "),n("div",[n("label",{attrs:{for:"start_date"}},[t._v("End Date")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.end,expression:"end"}],staticClass:"ml-4 p-2",attrs:{type:"date"},domProps:{value:t.end},on:{input:function(e){e.target.composing||(t.end=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"flex items-center"},[n("CustomSelect",{attrs:{label:"Display",data:[{label:"Per Days",value:"day"},{label:"Per Month",value:"month"},{label:"Per Year",value:"year"}]},model:{value:t.unit,callback:function(e){t.unit=e},expression:"unit"}})],1)]),t._v(" "),n("div",{attrs:{id:"planet-chart"}})])}),[],!1,null,"8ed2a96a",null);e.a=component.exports},322:function(t,e,n){var map={"./af":190,"./af.js":190,"./ar":191,"./ar-dz":192,"./ar-dz.js":192,"./ar-kw":193,"./ar-kw.js":193,"./ar-ly":194,"./ar-ly.js":194,"./ar-ma":195,"./ar-ma.js":195,"./ar-sa":196,"./ar-sa.js":196,"./ar-tn":197,"./ar-tn.js":197,"./ar.js":191,"./az":198,"./az.js":198,"./be":199,"./be.js":199,"./bg":200,"./bg.js":200,"./bm":201,"./bm.js":201,"./bn":202,"./bn.js":202,"./bo":203,"./bo.js":203,"./br":204,"./br.js":204,"./bs":205,"./bs.js":205,"./ca":206,"./ca.js":206,"./cs":207,"./cs.js":207,"./cv":208,"./cv.js":208,"./cy":209,"./cy.js":209,"./da":210,"./da.js":210,"./de":211,"./de-at":212,"./de-at.js":212,"./de-ch":213,"./de-ch.js":213,"./de.js":211,"./dv":214,"./dv.js":214,"./el":215,"./el.js":215,"./en-SG":216,"./en-SG.js":216,"./en-au":217,"./en-au.js":217,"./en-ca":218,"./en-ca.js":218,"./en-gb":219,"./en-gb.js":219,"./en-ie":220,"./en-ie.js":220,"./en-il":221,"./en-il.js":221,"./en-nz":222,"./en-nz.js":222,"./eo":223,"./eo.js":223,"./es":224,"./es-do":225,"./es-do.js":225,"./es-us":226,"./es-us.js":226,"./es.js":224,"./et":227,"./et.js":227,"./eu":228,"./eu.js":228,"./fa":229,"./fa.js":229,"./fi":230,"./fi.js":230,"./fo":231,"./fo.js":231,"./fr":232,"./fr-ca":233,"./fr-ca.js":233,"./fr-ch":234,"./fr-ch.js":234,"./fr.js":232,"./fy":235,"./fy.js":235,"./ga":236,"./ga.js":236,"./gd":237,"./gd.js":237,"./gl":238,"./gl.js":238,"./gom-latn":239,"./gom-latn.js":239,"./gu":240,"./gu.js":240,"./he":241,"./he.js":241,"./hi":242,"./hi.js":242,"./hr":243,"./hr.js":243,"./hu":244,"./hu.js":244,"./hy-am":245,"./hy-am.js":245,"./id":246,"./id.js":246,"./is":247,"./is.js":247,"./it":248,"./it-ch":249,"./it-ch.js":249,"./it.js":248,"./ja":250,"./ja.js":250,"./jv":251,"./jv.js":251,"./ka":252,"./ka.js":252,"./kk":253,"./kk.js":253,"./km":254,"./km.js":254,"./kn":255,"./kn.js":255,"./ko":256,"./ko.js":256,"./ku":257,"./ku.js":257,"./ky":258,"./ky.js":258,"./lb":259,"./lb.js":259,"./lo":260,"./lo.js":260,"./lt":261,"./lt.js":261,"./lv":262,"./lv.js":262,"./me":263,"./me.js":263,"./mi":264,"./mi.js":264,"./mk":265,"./mk.js":265,"./ml":266,"./ml.js":266,"./mn":267,"./mn.js":267,"./mr":268,"./mr.js":268,"./ms":269,"./ms-my":270,"./ms-my.js":270,"./ms.js":269,"./mt":271,"./mt.js":271,"./my":272,"./my.js":272,"./nb":273,"./nb.js":273,"./ne":274,"./ne.js":274,"./nl":275,"./nl-be":276,"./nl-be.js":276,"./nl.js":275,"./nn":277,"./nn.js":277,"./pa-in":278,"./pa-in.js":278,"./pl":279,"./pl.js":279,"./pt":280,"./pt-br":281,"./pt-br.js":281,"./pt.js":280,"./ro":282,"./ro.js":282,"./ru":283,"./ru.js":283,"./sd":284,"./sd.js":284,"./se":285,"./se.js":285,"./si":286,"./si.js":286,"./sk":287,"./sk.js":287,"./sl":288,"./sl.js":288,"./sq":289,"./sq.js":289,"./sr":290,"./sr-cyrl":291,"./sr-cyrl.js":291,"./sr.js":290,"./ss":292,"./ss.js":292,"./sv":293,"./sv.js":293,"./sw":294,"./sw.js":294,"./ta":295,"./ta.js":295,"./te":296,"./te.js":296,"./tet":297,"./tet.js":297,"./tg":298,"./tg.js":298,"./th":299,"./th.js":299,"./tl-ph":300,"./tl-ph.js":300,"./tlh":301,"./tlh.js":301,"./tr":302,"./tr.js":302,"./tzl":303,"./tzl.js":303,"./tzm":304,"./tzm-latn":305,"./tzm-latn.js":305,"./tzm.js":304,"./ug-cn":306,"./ug-cn.js":306,"./uk":307,"./uk.js":307,"./ur":308,"./ur.js":308,"./uz":309,"./uz-latn":310,"./uz-latn.js":310,"./uz.js":309,"./vi":311,"./vi.js":311,"./x-pseudo":312,"./x-pseudo.js":312,"./yo":313,"./yo.js":313,"./zh-cn":314,"./zh-cn.js":314,"./zh-hk":315,"./zh-hk.js":315,"./zh-tw":316,"./zh-tw.js":316};function l(t){var e=r(t);return n(e)}function r(t){if(!n.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}l.keys=function(){return Object.keys(map)},l.resolve=r,t.exports=l,l.id=322},331:function(t,e,n){"use strict";n.r(e);var l=n(187),r=(n(61),{layout:"medica",components:{DateRangeStats:n(317).a,InvoiceTable:l.a},data:function(){return{}},computed:{data:function(){return this.$store.state.invoice.invoices}},methods:{addInvoice:function(){this.$router.push({path:"/medica/invoice/new"})}}}),c=n(3),component=Object(c.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex flex-col"},[e("p",{staticClass:"text-4xl font-bold text-gray-800 self-center"},[this._v("All Invoices")]),this._v(" "),e("DateRangeStats",{attrs:{type:"bar",label:[],start:this.start,legend:"Invoices Created",bar_color:"#3af11c",datasets:this.data,date_key:"created_on"}}),this._v(" "),e("InvoiceTable",{staticClass:"mt-4 mb-16",attrs:{checkable:!1,data_url:"/medica/invoice/",data_id:"invoice_no",no_delete:!0,no_check:"true",column:[{name:"Invoice Number",json:"invoice_no"},{name:"exporter"},{name:"stockage"},{name:"vessel"},{name:"delivery"},{name:"Invoice Date",json:"invoice_date"},{name:"description"}],data:this.data},on:{"add-click":this.addInvoice}})],1)}),[],!1,null,null,null);e.default=component.exports}}]);