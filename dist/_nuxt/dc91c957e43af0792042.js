(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{186:function(t,e,n){"use strict";var r=n(25),o=n(7),l=n(23),c=n(118),d=n(119),m=n(20),v=n(122),f=n(120);o(o.S+o.F*!n(121)((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,o,h,_=l(t),x="function"==typeof this?this:Array,y=arguments.length,w=y>1?arguments[1]:void 0,C=void 0!==w,D=0,k=f(_);if(C&&(w=r(w,y>2?arguments[2]:void 0,2)),null==k||x==Array&&d(k))for(n=new x(e=m(_.length));e>D;D++)v(n,D,C?w(_[D],D):_[D]);else for(h=k.call(_),n=new x;!(o=h.next()).done;D++)v(n,D,C?c(h,w,[o.value,D],!0):o.value);return n.length=D,n}})},188:function(t,e,n){"use strict";n(117),n(42),n(116);var r={name:"CustomSelect",props:["value","label","placeholder","data"],data:function(){return{displayData:!1,text:""}},computed:{searchData:function(){return this.data}},mounted:function(){var t,e=this;this.text=null===(t=this.data.find((function(t){return t.value===e.value})))||void 0===t?void 0:t.label},methods:{toggleData:function(){this.displayData=!this.displayData},select:function(t){var label=t.label,e=t.value;this.text=label,this.displayData=!1,this.$emit("input",e)}}},o=n(3),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"relative z-20 "},[n("div",{staticClass:"flex items-center"},[t.label?n("label",{staticClass:"w-2/12 uppercase"},[t._v(t._s(t.label))]):t._e(),t._v(" "),n("div",{staticClass:"flex flex-grow border rounded items-center overflow-hidden ml-4"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:" focus:outline-none p-2 flex-grow ",attrs:{readonly:"",type:"text",placeholder:t.placeholder||t.label},domProps:{value:t.text},on:{input:[function(e){e.target.composing||(t.text=e.target.value)},function(e){t.displayData=!0}],click:t.toggleData}}),t._v(" "),n("button",{staticClass:"mdi mdi-menu-down focus:outline-none p-2",on:{click:t.toggleData}})])]),t._v(" "),t.displayData?n("div",{staticClass:"absolute bg-white shadow-lg rounded-lg w-full  right-0 flex flex-col"},t._l(t.searchData,(function(e){return n("button",{key:e.value,staticClass:"py-2 hover:bg-blue-300 focus:bg-blue-300 focus:outline-none",on:{click:function(n){return t.select(e)}}},[t._v("\n        "+t._s(e.label)+"\n      ")])})),0):t._e()]),t._v(" "),t.displayData?n("div",{staticClass:"top-0 left-0 bottom-0 right-0 z-10 ",staticStyle:{position:"fixed"},on:{click:function(e){t.displayData=!1}}}):t._e()])}),[],!1,null,"4e785a06",null);e.a=component.exports},318:function(t,e,n){"use strict";n(61);var r={name:"NewBatch",props:["batch","readonly"],computed:{get_total:function(){return this.batch.quantity*this.batch.num_of_ships}}},o=n(3),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"border-t"},[t.readonly?t._e():n("div",{staticClass:"self-end text-red-500 text-right text-xl outline-none border-none"},[n("button",{staticClass:"mdi mdi-close outline-none border-none",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}})]),t._v(" "),n("div",{staticClass:"mt-4 px-8 text-sm flex items-center"},[n("label",{staticClass:"w-2/12 uppercase",attrs:{for:"delivery"}},[t._v("Description of goods")]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.batch.description,expression:"batch.description"}],staticClass:"w-full border rounded p-2 ml-8",attrs:{id:"good_desc",readonly:t.readonly,type:"text",name:"delivery",placeholder:"Description of goods",rows:"2"},domProps:{value:t.batch.description},on:{input:function(e){e.target.composing||t.$set(t.batch,"description",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"mt-4 px-8 text-sm flex items-center"},[n("label",{staticClass:"w-2/12 uppercase",attrs:{for:"exporter"}},[t._v("Batch Number")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.batch.batch_no,expression:"batch.batch_no"}],staticClass:"w-full border rounded p-2 ml-8",attrs:{id:"batch_number",readonly:t.readonly,type:"number",name:"exporter",placeholder:"Exporter"},domProps:{value:t.batch.batch_no},on:{input:function(e){e.target.composing||t.$set(t.batch,"batch_no",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"mt-4 px-8 text-sm flex items-center"},[n("label",{staticClass:"w-2/12 uppercase",attrs:{for:"stockage"}},[t._v("Quantity / Ship per pack")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.batch.quantity,expression:"batch.quantity"}],staticClass:"w-full border rounded p-2 ml-8",attrs:{id:"quantity_ship",readonly:t.readonly,type:"number",name:"stockage",placeholder:"Stockage"},domProps:{value:t.batch.quantity},on:{input:function(e){e.target.composing||t.$set(t.batch,"quantity",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"mt-4 px-8 text-sm flex items-center"},[n("label",{staticClass:"w-2/12 uppercase",attrs:{for:"vessel"}},[t._v("NÂ° of ships")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.batch.num_of_ships,expression:"batch.num_of_ships"}],staticClass:"w-full border rounded p-2 ml-8",attrs:{id:"number_ship",readonly:t.readonly,type:"number",name:"vessel",placeholder:"Number of Ships"},domProps:{value:t.batch.num_of_ships},on:{input:function(e){e.target.composing||t.$set(t.batch,"num_of_ships",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"mt-4 px-8 text-sm flex items-center"},[n("label",{staticClass:"w-2/12 uppercase",attrs:{for:"vessel"}},[t._v("Total Quantity (packs)")]),t._v(" "),n("input",{staticClass:"w-full border rounded p-2 ml-8",attrs:{id:"total",type:"number",name:"vessel",readonly:""},domProps:{value:t.get_total}})]),t._v(" "),n("div",{staticClass:"mt-4 px-8 text-sm flex items-center"},[n("label",{staticClass:"w-2/12 uppercase"},[t._v("Manufactured Date")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.batch.mfg_date,expression:"batch.mfg_date"}],staticClass:"w-full border rounded p-2 ml-8",attrs:{readonly:t.readonly,type:"date",placeholder:"Manufactured Date (date de facture) "},domProps:{value:t.batch.mfg_date},on:{input:function(e){e.target.composing||t.$set(t.batch,"mfg_date",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"mt-4 px-8 text-sm flex items-center"},[n("label",{staticClass:"w-2/12 uppercase",attrs:{for:"date"}},[t._v("Expiration Date")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.batch.exp_date,expression:"batch.exp_date"}],staticClass:"w-full border rounded p-2 ml-8",attrs:{readonly:t.readonly,type:"date",name:"date",placeholder:"Expired Date (date de facture) "},domProps:{value:t.batch.exp_date},on:{input:function(e){e.target.composing||t.$set(t.batch,"exp_date",e.target.value)}}})])])}),[],!1,null,"652b7b61",null);e.a=component.exports},323:function(t,e,n){"use strict";n(42),n(116);var r={name:"Select",props:["value","label","placeholder"],data:function(){return{displayData:!1,regions:[{name:"Adamawa",code:"ADA"},{name:"North",code:"NOR"},{name:"South",code:"SOU"},{name:"East",code:"EAS"},{name:"Centre",code:"CEN"},{name:"Littoral",code:"LIT"},{name:"West",code:"WES"},{name:"Far North",code:"FNO"},{name:"North West",code:"NWE"},{name:"South West",code:"SWE"}],text:""}},computed:{searchData:function(){return this.regions}},methods:{toggleData:function(){this.displayData=!this.displayData},select:function(t){var e=t.name,code=t.code;this.text=e,this.displayData=!1,this.$emit("input",code)}}},o=n(3),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"relative z-20 "},[n("div",{staticClass:"flex items-center"},[t.label?n("label",{staticClass:"w-2/12 uppercase"},[t._v(t._s(t.label))]):t._e(),t._v(" "),n("div",{staticClass:"flex flex-grow border rounded items-center overflow-hidden"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:" focus:outline-none p-2 flex-grow",attrs:{readonly:"",type:"text",placeholder:t.placeholder||t.label},domProps:{value:t.text},on:{input:[function(e){e.target.composing||(t.text=e.target.value)},function(e){t.displayData=!0}],click:t.toggleData}}),t._v(" "),n("button",{staticClass:"mdi mdi-heart focus:outline-none p-2",on:{click:t.toggleData}})])]),t._v(" "),t.displayData?n("div",{staticClass:"absolute bg-white shadow-lg rounded-lg w-10/12  right-0 flex flex-col"},t._l(t.searchData,(function(e){return n("button",{key:e.code,staticClass:"py-2 hover:bg-blue-300 focus:bg-blue-300 focus:outline-none",on:{click:function(n){return t.select(e)}}},[t._v("\n        "+t._s(e.name)+"\n      ")])})),0):t._e()]),t._v(" "),t.displayData?n("div",{staticClass:"top-0 left-0 bottom-0 right-0 z-10 ",staticStyle:{position:"fixed"},on:{click:function(e){t.displayData=!1}}}):t._e()])}),[],!1,null,"0e6d5aa5",null);e.a=component.exports},324:function(t,e,n){"use strict";var r={name:"SeeBatch",props:["batch","linked"],computed:{get_total:function(){return this.batch.quantity*this.batch.num_of_ships},readonly:function(){return!0}}},o=n(3),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"border-t"},[n("div",{staticClass:"mt-4 px-8 text-sm flex items-center"},[n("label",{staticClass:"w-2/12 uppercase",attrs:{for:"delivery"}},[t._v("Description of goods")]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.batch.description,expression:"batch.description"}],staticClass:"w-full border rounded p-2 ml-8",attrs:{id:"good_desc",readonly:t.readonly,type:"text",name:"delivery",placeholder:"Description of goods",rows:"2"},domProps:{value:t.batch.description},on:{input:function(e){e.target.composing||t.$set(t.batch,"description",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"mt-4 px-8 text-sm flex items-center"},[n("label",{staticClass:"w-2/12 uppercase",attrs:{for:"exporter"}},[t._v("Batch Number")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.batch.batch_no,expression:"batch.batch_no"}],staticClass:"w-full border rounded p-2 ml-8",attrs:{id:"batch_number",readonly:t.readonly,type:"number",name:"exporter",placeholder:"Exporter"},domProps:{value:t.batch.batch_no},on:{input:function(e){e.target.composing||t.$set(t.batch,"batch_no",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"mt-4 px-8 text-sm flex items-center"},[n("label",{staticClass:"w-2/12 uppercase",attrs:{for:"stockage"}},[t._v("Quantity / Ship per pack")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.batch.quantity,expression:"batch.quantity"}],staticClass:"w-full border rounded p-2 ml-8",attrs:{id:"quantity_ship",readonly:t.readonly,type:"number",name:"stockage",placeholder:"Stockage"},domProps:{value:t.batch.quantity},on:{input:function(e){e.target.composing||t.$set(t.batch,"quantity",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"mt-4 px-8 text-sm flex items-center"},[n("label",{staticClass:"w-2/12 uppercase",attrs:{for:"vessel"}},[t._v("NÂ° of ships")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.batch.num_of_ships,expression:"batch.num_of_ships"}],staticClass:"w-full border rounded p-2 ml-8",attrs:{id:"number_ship",readonly:t.readonly,type:"number",name:"vessel",placeholder:"Number of Ships"},domProps:{value:t.batch.num_of_ships},on:{input:function(e){e.target.composing||t.$set(t.batch,"num_of_ships",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"mt-4 px-8 text-sm flex items-center"},[n("label",{staticClass:"w-2/12 uppercase",attrs:{for:"vessel"}},[t._v("Total Quantity (packs)")]),t._v(" "),n("input",{staticClass:"w-full border rounded p-2 ml-8",attrs:{id:"total",type:"number",name:"vessel",readonly:""},domProps:{value:t.get_total}})]),t._v(" "),n("div",{staticClass:"mt-4 px-8 text-sm flex items-center"},[n("label",{staticClass:"w-2/12 uppercase"},[t._v("Manufactured Date")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.batch.mfg_date,expression:"batch.mfg_date"}],staticClass:"w-full border rounded p-2 ml-8",attrs:{readonly:t.readonly,type:"text",placeholder:"Manufactured Date (date de facture) "},domProps:{value:t.batch.mfg_date},on:{input:function(e){e.target.composing||t.$set(t.batch,"mfg_date",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"mt-4 px-8 text-sm flex items-center"},[n("label",{staticClass:"w-2/12 uppercase",attrs:{for:"date"}},[t._v("Expiration Date")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.batch.exp_date,expression:"batch.exp_date"}],staticClass:"w-full border rounded p-2 ml-8",attrs:{readonly:t.readonly,type:"text",placeholder:"Expired Date (date de facture) "},domProps:{value:t.batch.exp_date},on:{input:function(e){e.target.composing||t.$set(t.batch,"exp_date",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"mt-4 px-8 text-sm flex items-center"},[n("label",{staticClass:"w-2/12 uppercase",attrs:{for:"date"}},[t._v("Distributed to")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.batch.region,expression:"batch.region"}],staticClass:"w-full border rounded p-2 ml-8",attrs:{readonly:t.readonly,type:"text",placeholder:"Expired Date (date de facture) "},domProps:{value:t.batch.region},on:{input:function(e){e.target.composing||t.$set(t.batch,"region",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"mt-4 px-8 text-sm flex items-center"},[n("label",{staticClass:"w-2/12 uppercase",attrs:{for:"date"}},[t._v("Distribution Date")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.batch.distribution_date||"Not yet distributed",expression:"batch.distribution_date || 'Not yet distributed'"}],staticClass:"w-full border rounded p-2 ml-8",attrs:{readonly:t.readonly,type:"text",placeholder:"Expired Date (date de facture) "},domProps:{value:t.batch.distribution_date||"Not yet distributed"},on:{input:function(e){e.target.composing||t.$set(t.batch,"distribution_date || 'Not yet distributed'",e.target.value)}}})]),t._v(" "),t.linked?n("div",{staticClass:"mt-4 justify-end flex w-full"},[n("nuxt-link",{staticClass:"px-8 py-2 ml-4 border rounded-lg bg-green-500 text-white",attrs:{to:"/medica/batch/"+t.batch.batch_no}},[t._v("\n      See "),n("span",{staticClass:"mdi mdi-share"})])],1):t._e()])}),[],!1,null,"50945384",null);e.a=component.exports},334:function(t,e,n){"use strict";n.r(e);n(66),n(17),n(16),n(12),n(45),n(24);var r=n(4),o=n(31),l=(n(62),n(186),n(318)),c=n(323),d=n(324);n(61);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={components:{CustomSelect:n(188).a,SeeBatch:d.a,Select:c.a,NewBatch:l.a},layout:"medica",data:function(){return{editMode:!1,editButtonText:"Edit",editButtonIcon:"mdi-pencil",batch:{description:"Efferalgant 200mg + Doliprane 1000mg + Ebolaxide 1g",batch_no:"11101",quantity:59,num_of_ships:12,mfg_date:"2019-12-12",exp_date:"2024-03-15"},transfer_region:"",sending:!1,showTransfer:!1}},computed:{edited:function(){return this.editMode&&JSON.stringify(this.batch)!==JSON.stringify(this.$store.getters["invoice/getBatch"](this.$route.params.id))?(this.editButtonIcon="mdi-send",this.editButtonText="Save",!0):(this.editButtonIcon="mdi-pencil",this.editButtonText="Edit",!1)},regions:function(){return Array.from(this.$store.state.invoice.regions).slice(1)}},mounted:function(){this.batch=v({},this.$store.getters["invoice/getBatch"](this.$route.params.id))},methods:{transfer:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.sending=!0,n={region_code:t.transfer_region,batch_no:t.batch.batch_no},e.prev=2,e.next=5,t.$axios.$post("http://yvesjordan06.pythonanywhere.com/make/distribution",n);case 5:r=e.sent,console.log(r),t.$store.commit("invoice/addDistribution",n),alert("Transfered"),t.batch=v({},t.$store.getters["invoice/getBatch"](t.$route.params.id)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),alert(e.t0);case 15:return e.prev=15,t.sending=!1,t.showTransfer=!1,e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[2,12,15,19]])})))()},editClicked:function(){this.editMode?this.edited?console.log("ok"):(this.editMode=!1,this.editButtonText="Edit",this.editButtonIcon="mdi-pencil"):(this.editMode=!0,this.editButtonIcon="mdi-cancel",this.editButtonText="Cancel")}}},h=n(3),component=Object(h.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"bg-white flex flex-col"},[t.editMode?n("NewBatch",{staticClass:"mt-2",attrs:{batch:t.batch},on:{close:function(e){t.editMode=!1}},model:{value:t.batch.description,callback:function(e){t.$set(t.batch,"description",e)},expression:"batch.description"}}):n("SeeBatch",{staticClass:"mt-2",attrs:{batch:t.batch,readonly:"true"},on:{close:function(e){t.invoice.batches=t.invoice.batches.filter((function(b,i){return i!==t.index}))}},model:{value:t.batch.description,callback:function(e){t.$set(t.batch,"description",e)},expression:"batch.description"}}),t._v(" "),n("div",{staticClass:"flex justify-end p-8"},[t.batch.region?t._e():n("button",{staticClass:"px-8 rounded-lg py-2 text-white bg-green-500",on:{click:function(e){t.showTransfer=!0}}},[t._v("\n        Transfer to "),n("span",{staticClass:"mdi mdi-share"})]),t._v(" "),n("button",{staticClass:"px-8 rounded-lg py-2 text-white bg-green-500 ml-4",on:{click:t.editClicked}},[t._v("\n        "+t._s(t.editButtonText)+" "),n("span",{staticClass:"mdi",class:t.editButtonIcon})])])],1),t._v(" "),t.showTransfer?n("div",{staticClass:"bg-gray-500 fixed opacity-25 inset-0"}):t._e(),t._v(" "),t.showTransfer?n("div",{staticClass:"w-3/5 bg-white flex flex-col fixed rounded-lg p-8 top-0 mt-8",staticStyle:{left:"50%",transform:"translate(-50%)"}},[n("p",{staticClass:"font-bold text-2xl self-center"},[t._v("Transfer Batch to")]),t._v(" "),n("CustomSelect",{staticClass:"mt-4 px-8 text-sm",attrs:{data:t.regions.map((function(t){return{label:t.name.toUpperCase(),value:t.code}})),label:"region"},model:{value:t.transfer_region,callback:function(e){t.transfer_region=e},expression:"transfer_region"}}),t._v(" "),n("div",{staticClass:"mt-4 px-8 text-sm flex items-center justify-end"},[n("button",{staticClass:"px-8 py-2 border rounded-lg bg-green-500 text-white",attrs:{disabled:t.sending},on:{click:function(e){return e.preventDefault(),t.transfer(e)}}},[t._v("\n        "+t._s(t.sending?"Sending...":"Transfer")+"\n        "),n("span",{staticClass:"mdi mdi-transfer"})]),t._v(" "),n("button",{staticClass:"px-8 py-2 ml-4 border rounded-lg bg-green-500 text-white",attrs:{disabled:t.sending},on:{click:function(e){e.preventDefault(),t.showTransfer=!1}}},[t._v("\n        Close "),n("span",{staticClass:"mdi mdi-cancel"})])])],1):t._e()])}),[],!1,null,"4a6ce3c6",null);e.default=component.exports}}]);